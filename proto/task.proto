syntax = "proto3";

option go_package = "common/communication/protocol";

import "proto/movie.proto";
import "proto/credit.proto";
import "proto/rating.proto";

enum QueryStage {
    UNASSIGNED = 0;
    ALPHA = 1;
    BETA = 2;
    GAMMA = 3;
    DELTA = 4;
    EPSILON = 5;
    ZETA = 6;
    ETA = 7;
    THETA = 8;
    IOTA = 9;
    KAPPA = 10;
    LAMBDA = 11;
    MU = 12;
    NU = 13;
}

message DataRow {
    oneof Data {
        Movie movie = 2;
        Credit credit = 3;
        Rating rating = 4;
    }
}

message Task {
    QueryStage stage = 1;
    repeated DataRow data = 2;
}